<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" th:fragment="header">
<head>
<meta charset="UTF-8">
	<title>header</title>
    <!-- CSS -->
    <link th:href="@{/css/header.css}" rel="stylesheet">
</head>
<body>
<div class="sticky-top">
    <nav class="py-2 border-bottom">
        <div class="container d-flex flex-wrap">
            <ul class="nav me-auto">
            	<th:block sec:authorize="isAuthenticated()">
                	<li class="nav-item"><span sec:authentication="principal.name" id="isLoggedInAs" class="nav-menu nav-link link-secondary px-3"></span></li> <!-- UserImpl í´ë˜ìŠ¤ í†µí•´ íšŒì› ì •ë³´ í˜¸ì¶œ -->
                </th:block>
            </ul>
            <ul class="nav">
            	<!-- ë¡œê·¸ì¸(ê´€ë¦¬ì) -->
            	<th:block sec:authorize="hasRole('ADMIN')">
	                <li class="nav-item"><a th:href="@{/admin/dashboard}" class="nav-menu nav-link link-secondary px-3">ê´€ë¦¬ìí˜ì´ì§€</a></li>
            	</th:block>
            	<!-- ë¡œê·¸ì¸(íšŒì›) -->
            	<th:block sec:authorize="isAuthenticated()">
		            <li class="nav-item"><a th:href="@{/member/signout}" class="nav-menu nav-link link-secondary px-3">ë¡œê·¸ì•„ì›ƒ</a></li>
                	<li class="nav-item"><a th:href="@{/member/mypage}" class="nav-menu nav-link link-secondary px-3">ë§ˆì´í˜ì´ì§€</a></li>
            	</th:block>
            	<!-- ë¹„ë¡œê·¸ì¸ -->
            	<th:block sec:authorize="isAnonymous()">
	                <li class="nav-item"><a th:href="@{/member/signin}" class="nav-menu nav-link link-secondary px-3">ë¡œê·¸ì¸</a></li>
	                <li class="nav-item"><a th:href="@{/member/signup}" class="nav-menu nav-link link-secondary px-3">íšŒì›ê°€ì…</a></li>
            	</th:block>
            	<th:block sec:authorize="permitAll">
	                <li class="nav-item"><a th:href="@{/cart/mycart}" class="nav-menu nav-link link-secondary px-3">ì¥ë°”êµ¬ë‹ˆ
	                <th:block th:if="${session.countCartItem} == null">
		                <em class="cartCnt">0</em>
	                </th:block>
	                <th:block th:if="${session.countCartItem} != null">
		                <em th:text="${session.countCartItem}" class="cartCnt">[[${session.countCartItem}]]</em>
	                </th:block>
	                </a></li>
            	</th:block>
            </ul>
        </div>
    </nav>
    <header class="py-3 mb-4 border-bottom">
        <div class="container d-flex flex-wrap justify-content-center container-fluid">
            <a href="/" class="d-flex align-items-center mb-3 mb-lg-0 me-lg-auto text-dark text-decoration-none">
                <span class="fs-4">ê¸€ë²—ë¬¸êµ¬</span>
            </a>
            <ul class="nav me-auto">
              <li class="nav-item"><a th:href="@{/product/list}" class="head-menu nav-link link-secondary px-3 active" aria-current="page"><b>ì „ì²´ ìƒí’ˆ</b></a></li>
              <li class="nav-item"><a th:href="@{/product/list?category=í”„ë¦¬ë¯¸ì—„íœ}" class="head-menu nav-link link-secondary px-3">í”„ë¦¬ë¯¸ì—„ íœ</a></li>
              <li class="nav-item"><a th:href="@{/product/list?category=íœ/ì—°í•„}" class="head-menu nav-link link-secondary px-3">íœ/ì—°í•„</a></li>
              <li class="nav-item"><a th:href="@{/product/list?category=ë§ˆì¹´/ì»¬ëŸ¬ë§}" class="head-menu nav-link link-secondary px-3">ë§ˆì¹´/ì»¬ëŸ¬ë§</a></li>
              <li class="nav-item"><a th:href="@{/product/list?category=ë””ìì¸ë¬¸êµ¬}" class="head-menu nav-link link-secondary px-3">ë””ìì¸ ë¬¸êµ¬</a></li>
              <li class="nav-item"><a th:href="@{/product/list?category=ê¸°íšì „}" class="head-menu nav-link link-secondary px-3">ê¸°íšì „</a></li>
            </ul>
            <form class="col-12 col-lg-auto mb-3 mb-lg-0 search-form" action="#">
                <input type="search" class="form-control search-bar" placeholder="ì— ì—ì½” í”ŒëŸ¬ìŠ¤íœ ì •ì‹ ì¶œì‹œğŸ¤©" aria-label="Search">
                <button type="button" class="search-icon"><i class="fa-solid fa-magnifying-glass"></i></button>
            </form>
        </div>
    </header>
    <div id="buttonTop" style="display: none;"><a><i class="fa-solid fa-arrow-up"></i></a></div>
    <script>
    	/* TOP ë²„íŠ¼*/
    	$(window).scroll(function(){
    		let scrollTop = $(this).scrollTop();
    		if(scrollTop >= 100) {
    			$('#buttonTop').fadeIn();
    		} else {
    			$('#buttonTop').fadeOut();
    		}
    	});
    	
    	$('#buttonTop').click(function(){
    		$('html, body').animate({scrollTop: 0}, 600);
    	});
    </script>
</div>
</body>
</html>