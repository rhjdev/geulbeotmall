<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.reminder.geulbeotmall.cs.model.dao.CSMapper">
	<resultMap id="inquiryResultMap" type="com.reminder.geulbeotmall.cs.model.dto.InquiryDTO">
		<id property="inquiryNo" column="INQUIRY_NO"/>
		<result property="memberId" column="MEMBER_ID"/>
		<result property="inquiryTitle" column="INQUIRY_TITLE"/>
		<result property="inquiryContent" column="INQUIRY_CONTENT"/>
		<result property="inquiryType" column="INQUIRY_TYPE"/>
		<result property="inquiryRegDate" column="INQUIRY_REG_DATE"/>
		<result property="inquiryAnsweredYn" column="INQUIRY_ANSWERED_YN"/>
	</resultMap>
	
	<!-- 고객센터 1:1 문의 등록 -->
	<insert id="writeAInquiry">
		INSERT
		  INTO TBL_INQUIRY
		(
		  INQUIRY_NO
		, MEMBER_ID
		, INQUIRY_TITLE
		, INQUIRY_CONTENT
		, INQUIRY_TYPE
		, INQUIRY_REG_DATE
		, INQUIRY_ANSWERED_YN
		)
		VALUES
		(
		  SEQ_INQUIRY_NO.NEXTVAL
		, #{ memberId }
		, #{ inquiryTitle }
		, #{ inquiryContent }
		, #{ inquiryType }
		, SYSDATE
		, DEFAULT
		)
	</insert>
	
	<!-- 고객센터 1:1 문의 목록 조회 -->
	<select id="getMyInquiryList" resultMap="inquiryResultMap">
		SELECT
			   *
		  FROM TBL_INQUIRY
		 WHERE MEMBER_ID = #{ memberId }
	</select>
</mapper>